<!-- This div is the target for the HTMX swap. It must be in the response. -->
<div id="contributions-section">
    <!-- Activity Filter Buttons -->
    <div class="p-4 sm:px-6 flex flex-wrap gap-3 border-b border-gray-200">
        <button hx-get="{% url 'genesis:congregant_detail' congregant.pk %}" hx-target="#contributions-section"
            hx-swap="outerHTML"
            class="px-4 py-2 rounded-lg text-sm font-medium {% if not selected_activity_id %}bg-blue-600 text-white{% else %}bg-gray-100 text-gray-700 hover:bg-gray-200{% endif %}">
            All Activities
        </button>

        {% for activity in contributed_activities %}
        <button hx-get="?activity={{ activity.id }}" hx-target="#contributions-section" hx-swap="outerHTML"
            hx-push-url="true"
            class="px-4 py-2 rounded-lg text-sm font-medium {% if activity.id == selected_activity_id %}bg-blue-600 text-white{% else %}bg-gray-100 text-gray-700 hover:bg-gray-200{% endif %}">
            {{ activity.name }}
        </button>
        {% endfor %}

        <button hx-get="{% url 'genesis:congregant_list' %}" hx-target="#genesis" hx-push-url="true"
            class="ml-auto inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-100">
            <span class="material-symbols-outlined mr-2 text-sm">arrow_back</span>
            Back to Congregants
        </button>

    </div>



    <!-- This div contains the table itself -->
    {% include 'genesis/partials/_congregant_contributions_table.html' %}
</div>